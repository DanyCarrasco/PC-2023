Modifique el ejercicio anterior para que haya varios productores y varios consumidores a la vez.